package mainframe_material.order_manager;

import java.awt.Color;
import java.io.BufferedReader;
import java.io.FileInputStream;
import java.io.InputStreamReader;

import javax.swing.BoxLayout;

import mainframe_material.add.remove.remove_sup_panal;
import mainframe_material.order_manager.*;

public class order_manager_panel extends javax.swing.JPanel {

        /**
         * Creates new form order_manager_panel
         */
        public order_manager_panel() {
                initComponents();
        }

        /**
         * This method is called from within the constructor to initialize the form.
         * WARNING: Do NOT modify this code. The content of this method is always
         * regenerated by the Form Editor.
         */
        @SuppressWarnings("unchecked")
        // <editor-fold defaultstate="collapsed" desc="Generated Code">
        private void initComponents() {

                jPanel1 = new javax.swing.JPanel();
                jLabel1 = new javax.swing.JLabel();
                jPanel2 = new javax.swing.JPanel();
                jScrollPane1 = new javax.swing.JScrollPane();
                panel_for_add = new javax.swing.JPanel();

                panel_for_add.setBackground(new java.awt.Color(252, 250, 238));

                setPreferredSize(new java.awt.Dimension(990, 620));
                setSize(new java.awt.Dimension(990, 620));
                setMinimumSize(new java.awt.Dimension(990, 620));
                setMaximumSize(new java.awt.Dimension(990, 620));

                jPanel1.setBackground(new java.awt.Color(85, 124, 86));

                jLabel1.setFont(new java.awt.Font("Sukhumvit Set", 0, 60)); // NOI18N
                jLabel1.setText("  จัดการออเดอร์");
                jLabel1.setForeground(Color.white);

                jPanel2.setBackground(new java.awt.Color(165, 182, 141));

                javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
                jPanel2.setLayout(jPanel2Layout);
                jPanel2Layout.setHorizontalGroup(
                                jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                                .addGap(0, 0, Short.MAX_VALUE));
                jPanel2Layout.setVerticalGroup(
                                jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                                .addGap(0, 50, Short.MAX_VALUE));

                javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
                jPanel1.setLayout(jPanel1Layout);
                jPanel1Layout.setHorizontalGroup(
                                jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                                .addGroup(jPanel1Layout.createSequentialGroup()
                                                                .addContainerGap()
                                                                .addComponent(jLabel1)
                                                                .addContainerGap(834, Short.MAX_VALUE))
                                                .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE,
                                                                javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE));
                jPanel1Layout.setVerticalGroup(
                                jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                                .addGroup(jPanel1Layout.createSequentialGroup()
                                                                .addContainerGap()
                                                                .addComponent(jLabel1)
                                                                .addPreferredGap(
                                                                                javax.swing.LayoutStyle.ComponentPlacement.RELATED,
                                                                                24,
                                                                                Short.MAX_VALUE)
                                                                .addComponent(jPanel2,
                                                                                javax.swing.GroupLayout.PREFERRED_SIZE,
                                                                                javax.swing.GroupLayout.DEFAULT_SIZE,
                                                                                javax.swing.GroupLayout.PREFERRED_SIZE)));

                javax.swing.GroupLayout panel_for_addLayout = new javax.swing.GroupLayout(panel_for_add);
                panel_for_add.setLayout(panel_for_addLayout);
                panel_for_addLayout.setHorizontalGroup(
                                panel_for_addLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                                .addGap(0, 976, Short.MAX_VALUE));
                panel_for_addLayout.setVerticalGroup(
                                panel_for_addLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                                .addGap(0, 492, Short.MAX_VALUE));

                jScrollPane1.setViewportView(panel_for_add);
                jScrollPane1.setHorizontalScrollBar(null);
                jScrollPane1.getVerticalScrollBar().setUnitIncrement(16);

                javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
                this.setLayout(layout);
                layout.setHorizontalGroup(
                                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                                .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE,
                                                                javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                                .addGroup(layout.createSequentialGroup()
                                                                .addContainerGap()
                                                                .addComponent(jScrollPane1)
                                                                .addContainerGap()));
                layout.setVerticalGroup(
                                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                                .addGroup(layout.createSequentialGroup()
                                                                .addComponent(jPanel1,
                                                                                javax.swing.GroupLayout.PREFERRED_SIZE,
                                                                                javax.swing.GroupLayout.DEFAULT_SIZE,
                                                                                javax.swing.GroupLayout.PREFERRED_SIZE)
                                                                .addPreferredGap(
                                                                                javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                                                .addComponent(jScrollPane1,
                                                                                javax.swing.GroupLayout.DEFAULT_SIZE,
                                                                                494, Short.MAX_VALUE)
                                                                .addContainerGap()));

                // test
                // panel_for_add.add(new order_manager_sub_panel());
                // panel_for_add.add(new order_manager_sub_panel());
                // panel_for_add.add(new order_manager_sub_panel());
                panel_for_add.setLayout(new BoxLayout(panel_for_add, BoxLayout.Y_AXIS));

                read_file();

        }// </editor-fold>

        // Variables declaration - do not modify
        private javax.swing.JLabel jLabel1;
        private javax.swing.JPanel jPanel1;
        private javax.swing.JPanel jPanel2;
        private javax.swing.JScrollPane jScrollPane1;
        private static javax.swing.JPanel panel_for_add;

        public static void read_file() {
                String file_path = "src/restaurant_log/user_order.txt";
                try (BufferedReader br = new BufferedReader(
                                new InputStreamReader(new FileInputStream(file_path), "UTF-8"),
                                8192)) {
                        String data;
                        // String status = a
                        // if (status.equals("1"))
                        while ((data = br.readLine()) != null) {
                                System.out.println("adding");
                                String[] arrOfStr = data.split(",");
                                if (arrOfStr[7].equals("0")) {
                                        String table_num = arrOfStr[0];
                                        String name = arrOfStr[2];
                                        String quatity = arrOfStr[3];
                                        System.out.println(table_num + name + quatity);
                                        order_manager_sub_panel p = new order_manager_sub_panel(table_num, name,
                                                        quatity);
                                        panel_for_add.add(p);
                                }
                        }

                } catch (Exception e) {
                        e.printStackTrace();
                }
                // End of variables declaration
        }

        public static void order_reload() {
                panel_for_add.removeAll();
                panel_for_add.revalidate();
                panel_for_add.repaint();
                read_file();
        }

}